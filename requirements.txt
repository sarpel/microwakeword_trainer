# microwakeword_trainer - Wake Word Training Framework
# Version 2.0 - GPU-Accelerated Training Pipeline
#
# IMPORTANT: This project requires SEPARATE virtual environments for TensorFlow and PyTorch.
# See README.md 'Environment Setup' section for details.
#
# This file is for the TENSORFLOW environment (main training).
# For PyTorch environment (speaker clustering), use requirements-torch.txt.

# Core ML Frameworks
# PINNED: TF 2.16.x is required for ESPHome micro_wake_word compatibility.
# DO NOT upgrade to 2.17+ — ESPHome TFLite runtime is incompatible.
# tensorflow[and-cuda] bundles CUDA/cuDNN wheels; no separate CUDA install needed for TF.
tensorflow[and-cuda]>=2.16,<2.17

# TFLite export (ai-edge-litert replaces tflite_runtime from TF 2.16+)
# Do NOT upgrade to 3.x until ai-edge-litert 3.x supports Python 3.10/3.11
ai-edge-litert>=2.1,<3.0

# ESPHome-compatible audio feature extraction (40 mel bins, exact pymicro spec)
# 2.x is a breaking change from 1.x — pin >= 2.0
pymicro-features>=2.0,<3.0

# Audio/Data Processing
numpy>=1.26,<2.0
scipy>=1.13
pyyaml>=6.0
# PyPI package name is mmap-ninja (hyphen), NOT mmap_ninja (underscore)
mmap-ninja>=0.8

audiomentations>=0.43
audio-metadata>=0.12
webrtcvad-wheels>=2.0.14
absl-py>=2.1

# Performance (GPU-Required for SpecAugment)
# No CPU fallback — CUDA 12.x required
psutil>=5.9
GPUtil>=1.4
cupy-cuda12x>=14.0; sys_platform == "linux"
numba>=0.60

# Visualization & Monitoring
matplotlib>=3.9
seaborn>=0.13
tensorboard>=2.16,<2.17

# Rich training progress display
rich>=14.0

# Optional: Hyperparameter Optimization
optuna>=4.0
